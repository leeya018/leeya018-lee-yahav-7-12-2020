{"version":3,"sources":["components/Logout.jsx","util.js","api/index.js","components/ComposeEmail.jsx","components/ModalDelete.jsx","components/Email.jsx","components/ShowEmails.jsx","components/Signup.jsx","components/Login.jsx","components/App.jsx","index.js"],"names":["Logout","onHandleLogged","Button","onClick","localStorage","removeItem","util","getUsername","dataStr","getItem","JSON","parse","username","getToken","token","api","axios","create","baseURL","apis","insertEmail","payload","post","getAllEmails","get","getEmailsByUsername","headers","Authorization","deleteEmail","delete","sign","login","initialState","sender","receiver","message","subject","alert","validations","showSuccess","showFail","reducer","state","action","type","Error","ComposeEmail","logged","useReducer","dispatch","useEffect","className","Form","Group","controlId","Control","placeholder","disabled","value","onChange","e","target","as","variant","then","res","data","catch","err","response","validation","errors","error","Alert","show","length","map","index","ModalDelete","onHandleClose","chosenEmail","onHandleDelete","Modal","onHide","animation","Header","closeButton","Title","Body","_id","Footer","Email","openModal","email","modalShow","closeModal","ListGroup","Item","Card","border","Text","emailsList","isSender","ShowEmails","getEmails","emails","id","style","margin","person","Signup","useState","setUsername","password","setPassword","msg","setMsg","navigate","m","Login","color","handleUsername","handlePassword","setItem","stringify","App","setlogged","routes","routeResult","useRoutes","nav","Navbar","fixed","expand","bg","Nav","Link","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9a542f01.chunk.js","sourcesContent":["import React from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default function Logout({onHandleLogged}) {\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem(\"data\")\r\n        onHandleLogged(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={logout}>Logout</Button>\r\n        </div>\r\n    )\r\n}\r\n","const getUsername = () => {\r\n    let dataStr = localStorage.getItem(\"data\")\r\n    if (dataStr) {\r\n        let data = JSON.parse(dataStr)\r\n        return data.username\r\n    }\r\n    return \"\"\r\n}\r\n\r\nconst getToken = () => {\r\n    let dataStr = localStorage.getItem(\"data\")\r\n    if (dataStr) {\r\n        let data = JSON.parse(dataStr)\r\n        return data.token\r\n    }\r\n    return \"\"\r\n}\r\n\r\n\r\nlet util = {getUsername, getToken}\r\n\r\nexport default util","import axios from 'axios'\r\n\r\n\r\nconst getToken = () => {\r\n    let dataStr = localStorage.getItem(\"data\")\r\n    let data = JSON.parse(dataStr)\r\n    return data.token\r\n}\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:3000/api',\r\n})\r\n\r\nexport const insertEmail = payload => api.post(`/email`, payload)\r\nexport const getAllEmails = () => api.get(`/emails`)\r\nexport const getEmailsByUsername = (username) => api.get(`/emails/${username}`, { headers: { Authorization: getToken() } })\r\nexport const deleteEmail = payload => api.delete(`/email`, payload)\r\nexport const sign = payload => api.post(`/auth/signup`, payload)\r\nexport const login = payload => api.post(`/auth/signin`, payload)\r\n\r\n\r\nconst apis = {\r\n    insertEmail,\r\n    getAllEmails,\r\n    getEmailsByUsername,\r\n    deleteEmail,\r\n    sign,\r\n    login\r\n}\r\n\r\nexport default apis","import React, { useReducer } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Logout from \"./Logout\"\r\nimport util from \"../util\"\r\nimport \"../style/composeEmail.css\"\r\nimport api from \"../api/index\"\r\nimport { useEffect } from 'react';\r\n\r\nconst initialState = {\r\n    sender: util.getUsername(),\r\n    receiver: \"\",\r\n    message: \"\",\r\n    subject: \"\",\r\n    alert: \"\",\r\n    validations: [],\r\n    showSuccess: false,\r\n    showFail: false\r\n\r\n};\r\n\r\n\r\nfunction reducer(state, action) {\r\n    switch (action.type) {\r\n        case 'subject':\r\n            return { ...state, subject: action.payload };\r\n        case 'sender':\r\n            return { ...state, sender: action.payload };\r\n        case 'receiver':\r\n            return { ...state, receiver: action.payload };\r\n        case 'message':\r\n            return { ...state, message: action.payload };\r\n        case 'alert':\r\n            return { ...state, ...action.payload };\r\n\r\n\r\n        default:\r\n            throw new Error();\r\n    }\r\n}\r\nexport default function ComposeEmail({ logged, onHandleLogged }) {\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"sender\", payload: util.getUsername() })\r\n    }, [])\r\n\r\n\r\n    const emailInsertion = () => {\r\n        let { subject, receiver, sender, message } = state\r\n        api.insertEmail({ subject, receiver, sender, message }).then((res) => {\r\n            dispatch({ type: \"alert\", payload: { alert: res.data.message, showSuccess: true, showFail: false, receiver: \"\", sender: util.getUsername(), subject: \"\", message: \"\" } })\r\n        }).catch(err => {\r\n            if (err.response.data.validation === false) {\r\n                dispatch({ type: \"alert\", payload: { validations: err.response.data.errors, showSuccess: false, showFail: true } })\r\n            } else {\r\n                dispatch({ type: \"alert\", payload: { alert: err.err.response.data.error, showSuccess: false, showFail: true } })\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"composeEmail\">\r\n            {localStorage.getItem(\"data\") && <div>\r\n                {`Hello ${util.getUsername()}`}\r\n                <Logout onHandleLogged={onHandleLogged} />\r\n            </div>}\r\n            <h1>Compose Email:</h1>\r\n            <Form >\r\n                <Form.Group controlId=\"email\">\r\n                    <Form.Control placeholder=\"sender id\" disabled={logged === true} value={state.sender} onChange={(e) => dispatch({ type: 'sender', payload: e.target.value })} />\r\n                    <Form.Control placeholder=\"subject\" value={state.subject} onChange={(e) => dispatch({ type: 'subject', payload: e.target.value })} />\r\n                    <Form.Control placeholder=\"receiver id\" value={state.receiver} onChange={(e) => dispatch({ type: 'receiver', payload: e.target.value })} />\r\n                    <Form.Control as={\"textarea\"} placeholder=\"message\" value={state.message} onChange={(e) => dispatch({ type: 'message', payload: e.target.value })} />\r\n                    <Button variant=\"primary\" className=\"submit\" onClick={emailInsertion}>SUBMIT</Button>\r\n                </Form.Group>\r\n            </Form>\r\n            <Alert show={state.showSuccess} variant=\"success\">{state.alert}</Alert>\r\n            <ul>\r\n                {state.validations.length > 0 ?\r\n                    state.validations.map((validation, index) => <li className=\"validations\" key={index}>\r\n                        < Alert key={index} show={state.showFail} variant=\"danger\">{validation}</Alert>\r\n                    </li>) : < Alert show={state.showFail} variant=\"danger\">{state.alert}</Alert>\r\n                }\r\n            </ul>\r\n        </div >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nexport default function ModalDelete({ show, onHandleClose, chosenEmail, onHandleDelete }) {\r\n\r\n    return (\r\n        <div>\r\n            <Modal show={show} onHide={onHandleClose} animation={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Delete Modal</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <p> id: {chosenEmail._id}</p>\r\n                    <p>subject: {chosenEmail.subject}</p>\r\n                    <p>sender: {chosenEmail.sender}</p>\r\n                    <p>receiver: {chosenEmail.receiver}</p>\r\n                    <p>message: {chosenEmail.message}</p>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={onHandleClose}>\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={() => onHandleDelete(chosenEmail._id)}>\r\n                        Delete\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal >\r\n        </div >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport ModalDelete from \"./ModalDelete\"\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport util from \"../util\"\r\n\r\nexport default function Email({\r\n    index,\r\n    openModal,\r\n    email,\r\n    modalShow,\r\n    closeModal,\r\n    deleteEmail\r\n}) {\r\n    return (\r\n        < ListGroup.Item key={index} >\r\n            <Card border=\"primary\" className=\"text-center\">\r\n                <Card.Body>\r\n                    <Card.Title>{`subject: ${email.subject}`}</Card.Title>\r\n                    <Card.Text>\r\n                        {`sender: ${email.sender}`}\r\n                    </Card.Text>\r\n                    <Card.Text>\r\n                        {`receiver: ${email.receiver}`}\r\n                    </Card.Text>\r\n                    <Card.Text>\r\n                        {`message: ${email.message}`}\r\n                    </Card.Text>\r\n                </Card.Body>\r\n                <ModalDelete\r\n                    show={modalShow}\r\n                    onHandleClose={closeModal}\r\n                    onHandleDelete={deleteEmail}\r\n                    chosenEmail={email} />\r\n                <Button variant=\"danger\"\r\n                    onClick={openModal}\r\n                >Delete</Button>\r\n            </Card>\r\n        </ListGroup.Item>\r\n    )\r\n}","import React, { useEffect, useReducer } from 'react'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport util from \"../util\"\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport api from \"../api/index\"\r\nimport Logout from \"./Logout\"\r\nimport Email from \"./Email\";\r\n\r\nconst initialState = {\r\n    emailsList: [],\r\n    alert: \"\",\r\n    showFail: false,\r\n    modalShow: false,\r\n    isSender: true\r\n};\r\n\r\n\r\nfunction reducer(state, action) {\r\n    switch (action.type) {\r\n        case action.type:\r\n            return { ...state, ...action.payload };\r\n        default:\r\n            throw new Error();\r\n    }\r\n\r\n}\r\nexport default function ShowEmails({ onHandleLogged, logged }) {\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n    useEffect(() => {\r\n        getEmails()\r\n    }, [logged])\r\n\r\n    const getEmails = () => {\r\n        let username = util.getUsername()\r\n        if (!username) {\r\n            api.getAllEmails().then((res) => {\r\n                dispatch({ type: \"emailsList\", payload: { emailsList: res.data.emails } })\r\n            }).catch(err => {\r\n                dispatch({ type: \"alert\", payload: { emailsList: [], alert: err.response.data.error, showFail: true } })\r\n            })\r\n        } else {\r\n            api.getEmailsByUsername(username).then((res) => {\r\n                dispatch({ type: \"emailsList\", payload: { emailsList: res.data.emails } })\r\n            }).catch(err => {\r\n                dispatch({ type: \"alert\", payload: { emailsList: [], alert: err.response.data.error, showFail: true } })\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const deleteEmail = (_id) => {\r\n        api.deleteEmail({ data: { id: _id } }).then(res => {\r\n            getEmails()\r\n            closeModal()\r\n        }).catch(err => {\r\n            dispatch({ type: \"alert\", payload: { alert: err.response.data.error, showFail: true } })\r\n        })\r\n    }\r\n\r\n\r\n    const closeModal = () => {\r\n        dispatch({ type: \"close modal\", payload: { modalShow: false } })\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"showEmails\">\r\n            {localStorage.getItem(\"data\") && <div>\r\n                {`Hello ${util.getUsername()}`}\r\n                <Logout onHandleLogged={onHandleLogged} />\r\n            </div>}\r\n            <h1>Emails List:</h1>\r\n            {logged && <>\r\n                <Button style={{ margin: \"1px\" }} variant=\"primary\" onClick={() => dispatch({ type: \"update isSender\", payload: { ...state, isSender: true } })}> sent </Button>\r\n                <Button style={{ margin: \"1px\" }} variant=\"primary\" onClick={() => dispatch({ type: \"update isSender\", payload: { ...state, isSender: false } })} > inbox </Button>\r\n            </>\r\n\r\n            }\r\n\r\n            <ListGroup variant=\"flush\">\r\n                <ul>\r\n                    {\r\n                        state.emailsList.map((email, index) => {\r\n                            let person\r\n\r\n                            if (state.isSender) {\r\n                                person = email.sender\r\n                            } else {\r\n                                person = email.receiver\r\n                            }\r\n                            let cond = logged ? util.getUsername() === person : true\r\n                            if (cond) {\r\n                                return <Email\r\n                                    index={index}\r\n                                    email={email}\r\n                                    modalShow={state.modalShow}\r\n                                    closeModal={closeModal}\r\n                                    deleteEmail={deleteEmail}\r\n                                    openModal={() => dispatch({ type: \"open modal\", payload: { modalShow: true } })}\r\n                                />\r\n                            }\r\n                        })\r\n\r\n                    }\r\n                </ul>\r\n\r\n            </ListGroup>\r\n            <Alert show={state.showFail} variant=\"danger\">{state.alert}</Alert>\r\n\r\n        </div >\r\n    )\r\n}\r\n","import React, { useState, useCallback } from \"react\"\nimport apis from \"../api/index\"\nimport { navigate } from \"hookrouter\"\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\n\n\nexport default function Signup() {\n  let [username, setUsername] = useState(\"\")\n  let [password, setPassword] = useState(\"\")\n  let [msg, setMsg] = useState([])\n  let [showFail, setShowFail] = useState(false)\n  let [showSuccess, setShowSuccess] = useState(false)\n\n\n\n  const handleClick = () => {\n\n    apis.sign({ username, password }).then((res) => {\n      navigate('/login')\n    }).catch(err => {\n      if (err.response.data.validation === false) {\n        setMsg(err.response.data.errors)\n      } else {\n        setMsg([err.response.data.message])\n      }\n    })\n  }\n\n  return (\n\n    <div className=\"App\">\n      <h1>Sign</h1>\n      <Form>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Control placeholder=\"Enter username\" onChange={(e) => setUsername(e.target.value)} />\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} />\n        </Form.Group>\n        <Button variant=\"primary\" onClick={handleClick}>\n          Submit\n  </Button>\n\n      </Form>\n      <ul>\n\n        {\n\n          msg.map((m, index) => {\n            return <li key={index}><Alert show={true} variant=\"danger\">{m}</Alert></li>\n          })\n        }\n      </ul>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport apis from \"../api/index\"\nimport { navigate } from \"hookrouter\"\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\n\n\nexport default function Login({ logged, onHandleLogged }) {\n  let [username, setUsername] = useState(\"\")\n  let [password, setPassword] = useState(\"\")\n  let [msg, setMsg] = useState([])\n\n  useEffect(() => {\n    if (logged) {\n      navigate(`/emailslist`)\n    }\n  }, [logged])\n\n  const handleClick = () => {\n    apis.login({ username, password }).then((res) => {\n      let data = {\n        \"token\": res.data.token, username: username\n      }\n      localStorage.setItem(\"data\", JSON.stringify(data))\n      onHandleLogged(true)\n      navigate(`/emailslist`)\n    }).catch(err => {\n      if (err.response.data.validation === false) {\n        setMsg(err.response.data.errors)\n      } else {\n        setMsg([err.response.data.message])\n      }\n    })\n  }\n\n  const handleUsername = (e) => {\n    setMsg([])\n    setUsername(e.target.value)\n  }\n\n  const handlePassword = (e) => {\n    setMsg([])\n    setPassword(e.target.value)\n  }\n\n  return (\n\n    <div className=\"App\">\n      <h1 style={{color:\"blue\"}}>Login</h1>\n      <Form>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Control placeholder=\"Enter username\" onChange={(e) => handleUsername(e)} />\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e) => handlePassword(e)} />\n        </Form.Group>\n        <Button variant=\"primary\" className=\"submit\" onClick={handleClick}>SUBMIT</Button>\n        {\n          msg.map((m, index) => {\n            return <Alert key={index} show={true} variant=\"danger\">{m}</Alert>\n          })\n        }\n      </Form>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\r\nimport ComposeEmail from \"./ComposeEmail\"\r\nimport ShowEmails from \"./ShowEmails\"\r\nimport Signup from \"./Signup\"\r\nimport Login from \"./Login\"\r\nimport { useRoutes,navigate } from \"hookrouter\"\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport util from \"../util\"\r\nimport '../style/App.css';\r\n\r\nconst checkLogged = ()=>{\r\n  return util.getUsername()!==\"\"\r\n}\r\n\r\nfunction App() {\r\n  const [logged, setlogged] = useState(checkLogged())\r\n\r\n  const routes = {\r\n    '/': () => navigate('/login'),\r\n    '/login': () => <Login logged={logged} onHandleLogged={setlogged}/>,\r\n    '/signup': () => <Signup />,\r\n    '/composeemail': () => <ComposeEmail logged={logged} onHandleLogged={setlogged}/>,\r\n    '/emailslist': () => <ShowEmails logged={logged} onHandleLogged={setlogged}/>\r\n\r\n  }\r\n\r\n  let routeResult = useRoutes(routes);\r\n\r\n  const nav = (\r\n    <Navbar fixed=\"top\" expand=\"lg\" variant=\"light\" bg=\"light\">\r\n      <Nav className=\"mr-auto\">\r\n        <Nav.Link href={`/emailslist`}>emailslist</Nav.Link>\r\n        <Nav.Link href=\"/composeemail\"  >compose email</Nav.Link>\r\n        {!logged && <>\r\n          <Nav.Link href=\"/login\" >login</Nav.Link>\r\n          <Nav.Link href=\"/signup\" >sign </Nav.Link>\r\n        </>\r\n        }\r\n\r\n      </Nav>\r\n    </Navbar>\r\n  )\r\n  return (\r\n    <div className=\"App\">\r\n      {nav}\r\n      <div className=\"comp-start\">\r\n\r\n        {routeResult}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport '../node_modules/font-awesome/css/font-awesome.min.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}